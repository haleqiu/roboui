<!DOCTYPE html>
<html>
<head>
<style>
div.gallery {
  margin: 5px;
  border: 1px solid #ccc;
  float: left;
  width: 180px;
}

div.gallery:hover {
  border: 1px solid #777;
}

div.gallery img {
  width: 100%;
  height: auto;
}

div.desc {
  padding: 15px;
  text-align: center;
}
div.wrapper {
    text-align: center;
}

div.button {
    position: absolute;
    top: 50%;
}
</style>
</head>
<body>

<div class="gallery">
  <a target="_blank" href="{{ url_for('image',idx=0) }}">
    <img src="{{ url_for('image',idx=1) }}" alt=" Terre" value="0" onclick="image_click(0)" width="600" height="400">
  </a>
  <div class="wrapper">
      <a href=# id=refresh><button class='btn btn-default'>Test</button></a>
  </div>
</div>

</body>

<script type=text/javascript>

function image_click(value) {
var xhttp = new XMLHttpRequest();
xhttp.open("GET", value, true);
xhttp.send();
}

$(function() {
  $('a#test').bind('click', function() {
    $.getJSON('/refresh',{value:"1"}
        function(data) {
          xhttp.open("GET", value, true);
          xhttp.send();
      //do nothing
    });
    return false;
  });
});
</script>

</html>
